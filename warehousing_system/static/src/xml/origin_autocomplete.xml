<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="warehousing_system.OriginAutocompleteWidget">
        <div class="o_field_widget o_field_char position-relative">
            <input 
                t-ref="originInput"
                type="text" 
                class="form-control o_input" 
                t-att-value="state.inputValue"
                t-att-placeholder="props.placeholder || 'e.g. ME0001'"
                t-att-readonly="props.readonly"
                autocomplete="off"
            />
            <div 
                t-ref="dropdown"
                class="dropdown-menu position-absolute w-100"
                t-att-style="dropdownStyle"
                style="z-index: 1050; max-height: 200px; overflow-y: auto; top: 100%;">
                <t t-foreach="state.suggestions" t-as="suggestion" t-key="suggestion.id">
                    <a 
                        href="#" 
                        t-att-class="getSuggestionClass(suggestion_index)"
                        t-on-click="() => this.onSuggestionClick(suggestion)"
                        t-on-mousedown.prevent="">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <strong t-out="suggestion.code"/>
                                <t t-if="suggestion.name and suggestion.name !== suggestion.code">
                                    <small class="text-muted ms-2" t-out="suggestion.name"/>
                                </t>
                            </div>
                        </div>
                    </a>
                </t>
                <t t-if="state.suggestions.length === 0 and state.inputValue.length >= 2">
                    <div class="dropdown-item-text text-muted">
                        <em>No matching codes found</em>
                    </div>
                </t>
            </div>
        </div>
    </t>
</templates>